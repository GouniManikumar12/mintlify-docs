---
title: 'Examples'
description: 'Real-world AMXP payload examples and use cases'
icon: 'code'
---

# Examples

This section provides real-world examples of AMXP protocol payloads for common use cases.

## Available Examples

<CardGroup cols={2}>
  <Card title="Context Request" icon="message-question" href="/examples/context-request.example.json">
    Example platform request for ad recommendations
  </Card>
  <Card title="Bid Submission" icon="hand-holding-dollar" href="/examples/bid.example.json">
    Example advertiser bid submission
  </Card>
  <Card title="Auction Result" icon="gavel" href="/examples/auction-result.example.json">
    Example auction decision and winner selection
  </Card>
  <Card title="Exposure Event" icon="eye" href="/examples/event-cpx-exposure.example.json">
    Example impression tracking event
  </Card>
  <Card title="Click Event" icon="hand-pointer" href="/examples/event-cpc-click.example.json">
    Example click tracking event
  </Card>
  <Card title="Conversion Event" icon="check-circle" href="/examples/event-cpa-conversion.example.json">
    Example conversion tracking event
  </Card>
  <Card title="Ledger Record" icon="book-open" href="/examples/ledger-record.example.json">
    Example financial ledger entry
  </Card>
</CardGroup>

## Example Workflow

Here's a complete workflow showing how different payloads interact:

### 1. Platform Requests Recommendations

The platform sends a context request when a user asks a question:

```json
{
  "session_id": "550e8400-e29b-41d4-a716-446655440000",
  "message_id": "7c9e6679-7425-40de-944b-e07fc1f90ae7",
  "user_query": "best running shoes for marathon training",
  "platform_id": "perplexica-ai",
  "context": {
    "conversation_history": ["previous messages..."],
    "user_preferences": {
      "budget": "under $200",
      "experience_level": "intermediate"
    }
  },
  "timestamp": "2025-11-11T10:30:00Z"
}
```

### 2. Advertiser Submits Bid

An advertiser responds with a bid:

```json
{
  "bid_id": "bid-123456",
  "advertiser_id": "nike-running",
  "context_request_id": "7c9e6679-7425-40de-944b-e07fc1f90ae7",
  "amount": 2.50,
  "currency": "USD",
  "ad_content": {
    "title": "Nike Pegasus 40 - Marathon Ready",
    "description": "Trusted by marathon runners worldwide. Responsive cushioning, durable design.",
    "landing_url": "https://nike.com/pegasus-40?utm_source=amxp",
    "image_url": "https://cdn.nike.com/pegasus-40.jpg"
  },
  "targeting": {
    "keywords": ["running shoes", "marathon", "training"],
    "budget_range": ["150-200"]
  },
  "timestamp": "2025-11-11T10:30:01Z"
}
```

### 3. Network Selects Winner

The ad network runs the auction and selects a winner:

```json
{
  "auction_id": "auction-789012",
  "context_request_id": "7c9e6679-7425-40de-944b-e07fc1f90ae7",
  "winner_bid_id": "bid-123456",
  "winning_amount": 2.50,
  "second_price": 2.25,
  "timestamp": "2025-11-11T10:30:02Z",
  "auction_metadata": {
    "total_bids": 5,
    "auction_duration_ms": 45
  }
}
```

### 4. Platform Tracks Exposure

When the ad is shown to the user:

```json
{
  "event_id": "event-exp-001",
  "event_type": "exposure",
  "session_id": "550e8400-e29b-41d4-a716-446655440000",
  "message_id": "7c9e6679-7425-40de-944b-e07fc1f90ae7",
  "recommendation_id": "bid-123456",
  "timestamp": "2025-11-11T10:30:05Z",
  "viewport_data": {
    "visible": true,
    "dwell_time_ms": 3500
  }
}
```

### 5. User Clicks the Ad

When the user clicks:

```json
{
  "event_id": "event-click-001",
  "event_type": "click",
  "session_id": "550e8400-e29b-41d4-a716-446655440000",
  "message_id": "7c9e6679-7425-40de-944b-e07fc1f90ae7",
  "recommendation_id": "bid-123456",
  "timestamp": "2025-11-11T10:30:08Z",
  "click_position": {
    "x": 450,
    "y": 320
  }
}
```

### 6. User Converts

When the user makes a purchase:

```json
{
  "event_id": "event-conv-001",
  "event_type": "conversion",
  "session_id": "550e8400-e29b-41d4-a716-446655440000",
  "message_id": "7c9e6679-7425-40de-944b-e07fc1f90ae7",
  "recommendation_id": "bid-123456",
  "conversion_type": "purchase",
  "timestamp": "2025-11-11T10:45:00Z",
  "conversion_value": 179.99,
  "currency": "USD",
  "conversion_metadata": {
    "order_id": "order-456789",
    "product_id": "nike-pegasus-40"
  }
}
```

### 7. Ledger Entry Created

The network records the financial transaction:

```json
{
  "record_id": "ledger-001",
  "transaction_type": "ad_revenue",
  "amount": 2.50,
  "currency": "USD",
  "timestamp": "2025-11-11T10:30:08Z",
  "related_event_id": "event-click-001",
  "parties": {
    "platform": "perplexica-ai",
    "advertiser": "nike-running",
    "network": "admesh-network"
  },
  "settlement_status": "pending",
  "settlement_date": "2025-11-18"
}
```

## Use Cases

### E-commerce Search

User searches for products, receives relevant product ads:

<CodeGroup>
```json Context Request
{
  "user_query": "wireless noise cancelling headphones",
  "context": {
    "category": "electronics",
    "price_range": "200-400"
  }
}
```

```json Bid Response
{
  "ad_content": {
    "title": "Sony WH-1000XM5",
    "description": "Industry-leading noise cancellation",
    "price": 399.99
  },
  "amount": 3.75
}
```
</CodeGroup>

### Travel Planning

User asks about travel destinations:

<CodeGroup>
```json Context Request
{
  "user_query": "best beaches in Thailand for families",
  "context": {
    "travel_dates": "2025-12-20 to 2026-01-05",
    "travelers": 4
  }
}
```

```json Bid Response
{
  "ad_content": {
    "title": "Phuket Family Resort Package",
    "description": "All-inclusive family resort with kids club",
    "price": 2499.00
  },
  "amount": 5.00
}
```
</CodeGroup>

### Local Services

User searches for local services:

<CodeGroup>
```json Context Request
{
  "user_query": "plumber near me emergency",
  "context": {
    "location": {
      "city": "San Francisco",
      "zip": "94102"
    },
    "urgency": "high"
  }
}
```

```json Bid Response
{
  "ad_content": {
    "title": "24/7 Emergency Plumbing - SF",
    "description": "Licensed, insured, 30min response time",
    "phone": "+1-415-555-0123"
  },
  "amount": 12.50
}
```
</CodeGroup>

## Testing with Examples

Use these examples to test your AMXP implementation:

```bash
# Validate example against schema
ajv validate -s schemas/context-request.json -d examples/context-request.example.json

# Test your API endpoint
curl -X POST https://your-network.com/api/context \
  -H "Content-Type: application/json" \
  -d @examples/context-request.example.json
```

## Invalid Examples

The `/examples` directory also includes invalid examples for testing error handling:

- `context-request.invalid.json` - Missing required fields
- `bid.invalid.json` - Invalid bid amount
- `event-cpx-exposure.invalid.json` - Malformed timestamp

These help ensure your implementation properly validates and rejects invalid payloads.

## Next Steps

- Review the [JSON Schemas](/reference/schemas) for detailed field specifications
- Check [Conformance](/governance/conformance) for testing requirements
- See the [Specification](/specification/01-overview) for protocol details

