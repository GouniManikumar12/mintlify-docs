---
title: Events
description: Learn how AIP verifies exposures, clicks, and conversions to enable fair, auditable billing.
---

Every measurable action in AIP is recorded as an **Event**.  
Events are how the protocol verifies that value was created — from a user seeing an ad to completing a conversion.

---

## 1. TL;DR

> Events track and verify each stage of user engagement: exposure, click, and conversion.

---

## 2. Why it matters

Traditional ad systems rely on cookies or opaque tracking pixels.  
AIP replaces those with **signed, timestamped events** that can be independently verified by all participants.

This means:
- No duplicate billing  
- No fake clicks or conversions  
- Transparent proof of every monetized action  

---

## 3. The Event Ladder

AIP defines three progressive event types — each building on the last.  
Only **one unit** settles per `serve_token`.

| Event Type | Abbreviation | Trigger | Billing Unit | Verified By |
|-------------|--------------|----------|---------------|--------------|
| **Exposure** | CPX | User sees an ad or recommendation | Cost per Exposure | Platform |
| **Click** | CPC | User clicks or engages | Cost per Click | Platform + Ad Network |
| **Conversion** | CPA | User completes a purchase or signup | Cost per Action | Brand Agent + Ad Network |

Once a higher event (like CPA) is verified, lower-tier events (CPX or CPC) are not billed again.

---

## 4. Event lifecycle

```mermaid
stateDiagram-v2
    [*] --> Exposure
    Exposure --> Click: User interacts
    Click --> Conversion: User completes goal
    Conversion --> [*]
```

Each transition is verified and timestamped.  
If no further event occurs, the lifecycle ends at the last verified state.

---

## 5. EventPacket schema

All events share common required fields that link them back to the auction and enable verification.

### Common Required Fields

| Field | Type | Description |
|--------|------|-------------|
| `event_type` | string | Event type identifier (`cpx_exposure`, `cpc_click`, or `cpa_conversion`) |
| `serve_token` | string | Serve token from the auction result - links event to original bid |
| `ts` | string | ISO 8601 timestamp of when the event occurred |

### Event-Specific Fields

Each event type has additional required and optional fields:

**CPX (Exposure)** - Requires: `session_id`, `platform_id`, `brand_agent_id`, `wallet_id`, `pricing`
**CPC (Click)** - Requires: `session_id`, `platform_id`, `brand_agent_id`, `wallet_id`, `pricing.unit`, `pricing.amount_cents`, `timestamp`
**CPA (Conversion)** - Requires: `conversion_id`, `conversion_type`, `wallet_id`, `brand_agent_id`, `pricing.unit`, `pricing.amount_cents`, `timestamp`

### Example: CPX Exposure Event

```json
{
  "event_type": "cpx_exposure",
  "serve_token": "stk_abcxyz123",
  "session_id": "s_001",
  "platform_id": "pf_chatapp",
  "agent_id": "ag_123",
  "wallet_id": "w_890",
  "pricing": {
    "unit": "CPX",
    "amount": "0.034",
    "currency": "USD"
  },
  "ts": "2025-11-11T18:00:00Z"
}
```

The `serve_token` links each event back to the original auction and winning bid.

For complete schemas, see:
- [CPX Exposure Event Schema](/schemas/event-cpx)
- [CPC Click Event Schema](/schemas/event-cpc)
- [CPA Conversion Event Schema](/schemas/event-cpa)

---

## 6. Verification process

| Stage | Who Verifies | What’s Checked |
|--------|---------------|----------------|
| **Exposure** | Platform | Display logs and visibility events |
| **Click** | Platform + Ad Network | User interaction + timestamp |
| **Conversion** | Brand Agent + Ad Network | Server-side callback or API confirmation |

Every event is digitally signed and validated against the original `serve_token`.  
Discrepancies automatically trigger reconciliation or rejection.

---

## 7. Example flow

1. Platform renders a sponsored recommendation → **CPX logged**  
2. User clicks the recommendation → **CPC verified**  
3. User signs up on advertiser site → **CPA confirmed**  
4. Lower events (CPX, CPC) are marked as verified but not billed  

---

## 8. Payout implications

- Platforms are paid for verified **CPX** and **CPC** events.  
- Advertisers pay only for **CPC** or **CPA** events that pass verification.  
- Ad Networks mediate settlement and ledger reconciliation at the end of each cycle.

---

## 9. Guarantees

- Each event is uniquely linked to a serve token.  
- Events cannot be duplicated or retroactively modified.  
- Signatures are auditable by any party in the chain.  
- Billing and payout data are mathematically verifiable.

---

## Summary

> Events are the backbone of AIP — they turn user actions into verified, auditable, and monetizable outcomes.
