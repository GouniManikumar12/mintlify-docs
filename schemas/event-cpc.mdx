# CPC Click Event Schema

## Overview
Event emitted when a user clicks or engages with an ad. Triggers CPC billing unless a later CPA event supersedes it.

## Required Fields
| Field | Type | Description |
|--------|------|-------------|
| `event_type` | string | Always `cpc_click`. |
| `serve_token` | string | Serve token from the `AuctionResult`. |
| `session_id` | string | Session identifier from the PlatformRequest. |
| `platform_id` | string | Platform emitting the click (e.g., `pf_openai_chat`). |
| `brand_agent_id` | string | Winning Brand Agent ID. |
| `wallet_id` | string | Wallet to debit for this event. |
| `pricing` | object | Must include `unit: "CPC"` and `amount_cents`. |
| `timestamp` | string | ISO 8601 timestamp when the click occurred. |

## Pricing Object
| Field | Type | Required | Description |
|--------|------|----------|-------------|
| `unit` | string | Yes | Must equal `CPC`. |
| `amount_cents` | integer | Yes | Charge amount in cents (non-negative). |

## Optional Fields
| Field | Type | Description |
|--------|------|-------------|
| `click_metadata.source` | string | `deep_link`, `button`, `voice_confirmation`, or `agent_action`. |
| `click_metadata.position` | integer | Position in the results list (minimum 1). |
| `ext` | object | Vendor-namespaced extensions. |

## Example
```json
{
  "event_type": "cpc_click",
  "serve_token": "stk_abcxyz123",
  "session_id": "sess_001",
  "platform_id": "pf_openai_chat",
  "brand_agent_id": "ba_451",
  "wallet_id": "w_0021",
  "pricing": {
    "unit": "CPC",
    "amount_cents": 45
  },
  "click_metadata": {
    "source": "deep_link",
    "position": 1
  },
  "timestamp": "2025-11-14T18:00:02Z"
}
```

## Validation Rules
- `pricing.amount_cents` must be an integer ≥ 0
- `click_metadata.position`, when provided, must be ≥ 1
- `timestamp` must be ISO 8601 formatted
